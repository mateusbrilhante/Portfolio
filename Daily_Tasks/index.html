<!--Base code created through AI for personal use <link rel="stylesheet" href="style.css"/>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Tracker</title>
    <style>
        /* Add some basic CSS for styling */
        body {
            font-family: Arial, sans-serif;
            transition: background 0.5s;
        }
        .task-list {
            list-style-type: none;
        }
        .reset-button {
            cursor: pointer;
            font-size: 14px;
            color: blue;
            margin-left: 10px;
        }
        .night-mode-button {
            cursor: pointer;
            font-size: 14px;
            color: blue;
            position: fixed;
            top: 10px;
            right: 10px;
        }
        .task-group {
            width: 100%;
            box-sizing: border-box;
        }
        .task-subgroup {
            display: flex;
            flex-direction: column; /* Divide subgroups vertically */
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Task Tracker</h1>

    <!-- Daily Tasks -->
    <div class="task-group">
        <h2>Daily Tasks <span class="reset-button" onclick="resetDailyTasks()">âŸ³</span></h2>
        
        <!-- Daily Subgroups -->
        <div class="task-subgroup">
            <h3>Events</h3>
            <form onsubmit="return addDailyTask('events')">
                <input type="text" id="new-daily-events" placeholder="Add a new event task">
                <button type="submit">Add Event</button>
            </form>
            <!-- Default tasks for Events subgroup -->
            <ul id="daily-tasks-events" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Flax</h3>
            <form onsubmit="return addDailyTask('flax')">
                <input type="text" id="new-daily-flax" placeholder="Add a new flax task">
                <button type="submit">Add Flax Task</button>
            </form>
            <!-- Default tasks for Flax subgroup -->
            <ul id="daily-tasks-flax" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Fractals</h3>
            <form onsubmit="return addDailyTask('fractals')">
                <input type="text" id="new-daily-fractals" placeholder="Add a new fractals task">
                <button type="submit">Add Fractals Task</button>
            </form>
            <!-- Default tasks for Fractals subgroup -->
            <ul id="daily-tasks-fractals" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Nodes</h3>
            <form onsubmit="return addDailyTask('nodes')">
                <input type="text" id="new-daily-nodes" placeholder="Add a new nodes task">
                <button type="submit">Add Nodes Task</button>
            </form>
            <!-- Default tasks for Nodes subgroup -->
            <ul id="daily-tasks-nodes" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Strikes</h3>
            <form onsubmit="return addDailyTask('strikes')">
                <input type="text" id="new-daily-strikes" placeholder="Add a new strikes task">
                <button type="submit">Add Strikes Task</button>
            </form>
            <!-- Default tasks for Strikes subgroup -->
            <ul id="daily-tasks-strikes" class="task-list"></ul>
        </div>

        <!-- Daily Task List -->
        <ul id="daily-tasks" class="task-list"></ul>
    </div>

    <!-- Weekly Tasks -->
    <div class="task-group">
        <h2>Weekly Tasks <span class="reset-button" onclick="resetWeeklyTasks()">âŸ³</span></h2>
        
        <!-- Weekly Subgroups -->
        <div class="task-subgroup">
            <h3>Black Lion Chest</h3>
            <form onsubmit="return addWeeklyTask('black-lion-chest')">
                <input type="text" id="new-weekly-black-lion-chest" placeholder="Add a new Black Lion Chest task">
                <button type="submit">Add Black Lion Chest Task</button>
            </form>
            <!-- Default tasks for Black Lion Chest subgroup -->
            <ul id="weekly-tasks-black-lion-chest" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Convergences</h3>
            <form onsubmit="return addWeeklyTask('convergences')">
                <input type="text" id="new-weekly-convergences" placeholder="Add a new convergences task">
                <button type="submit">Add Convergences Task</button>
            </form>
            <!-- Default tasks for Convergences subgroup -->
            <ul id="weekly-tasks-convergences" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Raids</h3>
            <form onsubmit="return addWeeklyTask('raids')">
                <input type="text" id="new-weekly-raids" placeholder="Add a new raids task">
                <button type="submit">Add Raids Task</button>
            </form>
            <!-- Default tasks for Raids subgroup -->
            <ul id="weekly-tasks-raids" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Rifts</h3>
            <form onsubmit="return addWeeklyTask('rifts')">
                <input type="text" id="new-weekly-rifts" placeholder="Add a new rifts task">
                <button type="submit">Add Rifts Task</button>
            </form>
            <!-- Default tasks for Rifts subgroup -->
            <ul id="weekly-tasks-rifts" class="task-list"></ul>
        </div>

        <div class="task-subgroup">
            <h3>Wizard's Vault</h3>
            <form onsubmit="return addWeeklyTask('wizards-vault')">
                <input type="text" id="new-weekly-wizards-vault" placeholder="Add a new wizard's vault task">
                <button type="submit">Add Wizard's Vault Task</button>
            </form>
            <!-- Default tasks for Wizard's Vault subgroup -->
            <ul id="weekly-tasks-wizards-vault" class="task-list"></ul>
        </div>

        <!-- Weekly Task List -->
        <ul id="weekly-tasks" class="task-list"></ul>
    </div>

    <!-- Single Goals -->
    <div class="task-group">
        <h2>Single Goals</h2>
        <div class="task-subgroup">
            <form onsubmit="return addSingleGoal()">
                <input type="text" id="new-single-goal" placeholder="Add a new single goal">
                <button type="submit">Add Goal</button>
            </form>
            <!-- Custom tasks for Single Goals -->
            <ul id="single-goals" class="task-list"></ul>
        </div>
    </div>

    <!-- Night Mode Button -->
    <div class="night-mode-button" onclick="toggleNightMode()">ðŸŒ™ Night Mode</div>

    <script>
        // JavaScript code to handle task tracking
        const dailyTasks = document.getElementById('daily-tasks');
        const weeklyTasks = document.getElementById('weekly-tasks');
        const newDailyEventInput = document.getElementById('new-daily-events');
        const newDailyFlaxInput = document.getElementById('new-daily-flax');
        const newDailyFractalsInput = document.getElementById('new-daily-fractals');
        const newDailyNodesInput = document.getElementById('new-daily-nodes');
        const newDailyStrikesInput = document.getElementById('new-daily-strikes');
        const newWeeklyBlackLionChestInput = document.getElementById('new-weekly-black-lion-chest');
        const newWeeklyConvergencesInput = document.getElementById('new-weekly-convergences');
        const newWeeklyRaidsInput = document.getElementById('new-weekly-raids');
        const newWeeklyRiftsInput = document.getElementById('new-weekly-rifts');
        const newWeeklyWizardsVaultInput = document.getElementById('new-weekly-wizards-vault');
        const newSingleGoalInput = document.getElementById('new-single-goal');

        // Load night mode state from local storage
        const nightModeState = localStorage.getItem('nightModeState');
        if (nightModeState === 'true') {
            document.body.classList.add('night-mode');
        }

        // Load tasks and checked states from storage (you can use localStorage or a server for this)
        let savedTasks = JSON.parse(localStorage.getItem('tasks'));

        // Initialize default tasks if not present
        savedTasks = savedTasks || {
            daily: {
                events: ["Zombi Doragon", "Naked Man", "Chak Gerent", "Octovine"],
                flax: ["Revenant", "Guardian", "Warrior", "Ranger", "Engineer", "Mesmer"],
                fractals: ["Tier 4", "Recs", "CMs"],
                nodes: ["Guild", "Hidden Garden", "Home"],
                strikes: ["Cosmic Observatory", "Temple of Febe"]
            },
            weekly: {
                blackLionChest: ["Key"],
                convergences: ["Once", "Twice", "Completed"],
                raids: ["Forsaken Thicket: Spirit Vale", "Forsaken Thicket: Salvation Pass", "Forsaken Thicket: Stronghold of the Faithful", "Bastion of the Penitent", "Hall of Chains", "Mythwright Gambit", "The Key of Ahdashim"],
                rifts: ["1 Map", "2 Maps", "3 Maps", "4 Maps", "5 Maps", "Completed"],
                wizardsVault: ["1/6", "2/6", "3/6", "4/6", "5/6", "Completed"]
            },
            singleGoals: [],
            dailyChecked: {
                events: [false, false, false, false],
                flax: [false, false, false, false, false, false],
                fractals: [false, false, false],
                nodes: [false, false, false],
                strikes: [false, false],
            },
            weeklyChecked: {
                blackLionChest: [false],
                convergences: [false, false, false],
                raids: [false, false, false, false, false, false, false],
                rifts: [false, false, false, false, false, false],
                wizardsVault: [false, false, false, false, false, false, false]
            }
        };

        function updateTaskList() {
            updateTaskGroup('daily', 'events', newDailyEventInput, 'daily-tasks-events');
            updateTaskGroup('daily', 'flax', newDailyFlaxInput, 'daily-tasks-flax');
            updateTaskGroup('daily', 'fractals', newDailyFractalsInput, 'daily-tasks-fractals');
            updateTaskGroup('daily', 'nodes', newDailyNodesInput, 'daily-tasks-nodes');
            updateTaskGroup('daily', 'strikes', newDailyStrikesInput, 'daily-tasks-strikes');

            updateTaskGroup('weekly', 'blackLionChest', newWeeklyBlackLionChestInput, 'weekly-tasks-black-lion-chest');
            updateTaskGroup('weekly', 'convergences', newWeeklyConvergencesInput, 'weekly-tasks-convergences');
            updateTaskGroup('weekly', 'raids', newWeeklyRaidsInput, 'weekly-tasks-raids');
            updateTaskGroup('weekly', 'rifts', newWeeklyRiftsInput, 'weekly-tasks-rifts');
            updateTaskGroup('weekly', 'wizardsVault', newWeeklyWizardsVaultInput, 'weekly-tasks-wizards-vault');

            updateSingleGoals();
        }

        function updateTaskGroup(category, subgroup, inputElement, taskListId) {
            const taskList = document.getElementById(taskListId);
            const newTaskInput = inputElement;

            taskList.innerHTML = savedTasks[category][subgroup].map((task, index) => {
                const checked = savedTasks[category + 'Checked'][subgroup][index] ? 'checked' : '';
                return `<li><input type="checkbox" id="${category}-${subgroup}-${index}" ${checked}>${task}<button onclick="removeTask('${category}', '${subgroup}', ${index})">Remove</button></li>`;
                        }).join('');
        }

        function addDailyTask(subgroup) {
            const taskText = document.getElementById(`new-daily-${subgroup}`).value;
            if (taskText.trim() !== '') {
                savedTasks.daily[subgroup].push(taskText);
                savedTasks.dailyChecked[subgroup].push(false); // Initialize checked state as false
                document.getElementById(`new-daily-${subgroup}`).value = '';
                updateTaskList();
                saveTasks();
            }
            return false; // Prevent form submission
        }

        function addWeeklyTask(subgroup) {
            const taskText = document.getElementById(`new-weekly-${subgroup}`).value;
            if (taskText.trim() !== '') {
                savedTasks.weekly[subgroup].push(taskText);
                savedTasks.weeklyChecked[subgroup].push(false); // Initialize checked state as false
                document.getElementById(`new-weekly-${subgroup}`).value = '';
                updateTaskList();
                saveTasks();
            }
            return false; // Prevent form submission
        }

        function removeTask(category, subgroup, index) {
            savedTasks[category][subgroup].splice(index, 1);
            savedTasks[category + 'Checked'][subgroup].splice(index, 1);
            updateTaskList();
            saveTasks();
        }

        function resetDailyTasks() {
            savedTasks.daily = {
                events: ["Zombi Doragon", "Naked Man", "Chak Gerent", "Octovine"],
                flax: ["Revenant", "Guardian", "Warrior", "Ranger", "Engineer", "Mesmer"],
                fractals: ["Tier 4", "Recs", "CMs"],
                nodes: ["Guild", "Hidden Garden", "Home"],
                strikes: ["Cosmic Observatory", "Temple of Febe"]
            };
            savedTasks.dailyChecked = {
                events: [false, false, false, false],
                flax: [false, false, false, false, false, false],
                fractals: [false, false, false],
                nodes: [false, false, false],
                strikes: [false, false],
            };
            updateTaskList();
            saveTasks();
        }

        function resetWeeklyTasks() {
            savedTasks.weekly = {
                blackLionChest: ["Key"],
                convergences: ["Once", "Twice", "Completed"],
                raids: ["Forsaken Thicket: Spirit Vale", "Forsaken Thicket: Salvation Pass", "Forsaken Thicket: Stronghold of the Faithful", "Bastion of the Penitent", "Hall of Chains", "Mythwright Gambit", "The Key of Ahdashim"],
                rifts: ["1 Map", "2 Maps", "3 Maps", "4 Maps", "5 Maps", "Completed"],
                wizardsVault: ["1/6", "2/6", "3/6", "4/6", "5/6", "Completed"]
            };
            savedTasks.weeklyChecked = {
                blackLionChest: [false],
                convergences: [false, false, false],
                raids: [false, false, false, false, false, false, false],
                rifts: [false, false, false, false, false, false],
                wizardsVault: [false, false, false, false, false, false, false]
            };
            updateTaskList();
            saveTasks();
        }

        function addSingleGoal() {
            const goalText = newSingleGoalInput.value;
            if (goalText.trim() !== '') {
                savedTasks.singleGoals.push(goalText);
                newSingleGoalInput.value = '';
                updateTaskList();
                saveTasks();
            }
            return false; // Prevent form submission
        }

        function removeSingleGoal(index) {
            savedTasks.singleGoals.splice(index, 1);
            updateTaskList();
            saveTasks();
        }

        function updateSingleGoals() {
            const singleGoalList = document.getElementById('single-goals');
            singleGoalList.innerHTML = savedTasks.singleGoals.map((goal, index) => {
                return `<li>${goal}<button onclick="removeSingleGoal(${index})">Remove</button></li>`;
            }).join('');
        }

        function toggleNightMode() {
            document.body.classList.toggle('night-mode');
            const nightModeState = document.body.classList.contains('night-mode');
            localStorage.setItem('nightModeState', nightModeState);
        }

        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(savedTasks));
        }

        // Initial update of the task list
        updateTaskList();
    </script>
</body>
</html>
