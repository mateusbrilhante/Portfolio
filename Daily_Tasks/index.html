<!--Base code created through AI for personal use-->
<link rel="stylesheet" href="style.css"/>
<!DOCTYPE html>
<html>
<head>
    <title>Task Tracker</title>
    <style>
        /* Add some basic CSS for styling */
        body {
            font-family: Arial, sans-serif;
            transition: background 0.5s;
        }
        .task-list {
            list-style-type: none;
        }
        .reset-button {
            cursor: pointer;
            font-size: 14px;
            color: blue;
            margin-left: 10px;
        }
        .night-mode-button {
            cursor: pointer;
            font-size: 14px;
            color: blue;
            position: fixed;
            top: 10px;
            right: 10px;
        }
    </style>
</head>
<body>
    <h1>Task Tracker</h1>
    <h2>Daily Tasks <span class="reset-button" onclick="resetDailyTasks()">âŸ³</span></h2>
    <input type="text" id="new-daily-task" placeholder="Add a new daily task">
    <button onclick="addDailyTask()">Add Daily Task</button>
    <ul id="daily-tasks" class="task-list"></ul>
    <h2>Weekly Tasks <span class="reset-button" onclick="resetWeeklyTasks()">âŸ³</span></h2>
    <input type="text" id="new-weekly-task" placeholder="Add a new weekly task">
    <button onclick="addWeeklyTask()">Add Weekly Task</button>
    <ul id="weekly-tasks" class="task-list"></ul>

    <!-- Night Mode Button -->
    <div class="night-mode-button" onclick="toggleNightMode()">ðŸŒ™ Night Mode</div>

    <script>
        // JavaScript code to handle task tracking
        const dailyTasks = document.getElementById('daily-tasks');
        const weeklyTasks = document.getElementById('weekly-tasks');
        const newDailyTaskInput = document.getElementById('new-daily-task');
        const newWeeklyTaskInput = document.getElementById('new-weekly-task');

        // Load night mode state from local storage
        const nightModeState = localStorage.getItem('nightModeState');
        if (nightModeState === 'true') {
            document.body.classList.add('night-mode');
        }

        // Load tasks and checked states from storage (you can use localStorage or a server for this)
        let savedTasks = JSON.parse(localStorage.getItem('tasks'));

        if (!savedTasks) {
            // If savedTasks is not in local storage, initialize it
            savedTasks = {
                daily: ["Zombi Doragon", "Naked Man"],
                weekly: ["Black Lion Chest"],
                dailyChecked: [false, false],
                weeklyChecked: [false]
            };
        }

        function updateTaskList() {
            dailyTasks.innerHTML = savedTasks.daily.map((task, index) => {
                const checked = savedTasks.dailyChecked[index] ? 'checked' : '';
                return `<li><input type="checkbox" id="daily-${index}" ${checked}>${task}<button onclick="removeTask('daily', ${index})">Remove</button></li>`;
            }).join('');

            weeklyTasks.innerHTML = savedTasks.weekly.map((task, index) => {
                const checked = savedTasks.weeklyChecked[index] ? 'checked' : '';
                return `<li><input type="checkbox" id="weekly-${index}" ${checked}>${task}<button onclick="removeTask('weekly', ${index})">Remove</button></li>`;
            }).join('');
        }

        function addDailyTask() {
            const taskText = newDailyTaskInput.value;
            if (taskText.trim() !== '') {
                savedTasks.daily.push(taskText);
                savedTasks.dailyChecked.push(false); // Initialize checked state as false
                newDailyTaskInput.value = '';
                updateTaskList();
                saveTasks();
            }
        }

        function addWeeklyTask() {
            const taskText = newWeeklyTaskInput.value;
            if (taskText.trim() !== '') {
                savedTasks.weekly.push(taskText);
                savedTasks.weeklyChecked.push(false); // Initialize checked state as false
                newWeeklyTaskInput.value = '';
                updateTaskList();
                saveTasks();
            }
        }

        function removeTask(category, index) {
            savedTasks[category].splice(index, 1);
            savedTasks[category + 'Checked'].splice(index, 1); // Remove corresponding checked state
            updateTaskList();
            saveTasks();
        }

        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(savedTasks));
        }

        function resetDailyTasks() {
            savedTasks.dailyChecked = savedTasks.daily.map(() => false); // Reset all daily task checkboxes
            updateTaskList();
            saveTasks();
        }

        function resetWeeklyTasks() {
            savedTasks.weeklyChecked = savedTasks.weekly.map(() => false); // Reset all weekly task checkboxes
            updateTaskList();
            saveTasks();
        }

        function toggleNightMode() {
            document.body.classList.toggle('night-mode');
            const isNightModeActive = document.body.classList.contains('night-mode');
            localStorage.setItem('nightModeState', isNightModeActive);
        }

        // Add event listeners to update the checked state when checkboxes are clicked
        dailyTasks.addEventListener('click', updateCheckedState);
        weeklyTasks.addEventListener('click', updateCheckedState);

        function updateCheckedState(event) {
            if (event.target.type === 'checkbox') {
                const taskId = event.target.id;
                const category = taskId.split('-')[0];
                const index = parseInt(taskId.split('-')[1]);

                if (category === 'daily') {
                    savedTasks.dailyChecked[index] = event.target.checked;
                } else if (category === 'weekly') {
                    savedTasks.weeklyChecked[index] = event.target.checked;
                }

                saveTasks();
            }
        }

        updateTaskList();
    </script>
</body>
</html>
