<!--Base code created through AI for personal use <link rel="stylesheet" href="style.css"/> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="TT-icon.png"/>
    <title>GW2 Tracker</title>
    <style>
        @media (prefers-reduced-motion: no-preference) {
            * {
            scroll-behavior: smooth;
            }
        }
    
        :root {
            --cinza: linear-gradient(90deg, rgb(120, 120, 120, 0.2), rgb(120, 120, 120, 0.4), rgb(120, 120, 120, 0.6), rgb(120, 120, 120, 0.8))
        }

        body {
            background: var(--cinza);
            margin: 0;
            font-family: Arial, sans-serif;
            transition: background 0.5s;
            padding: 2vw 4vw 2vw 4vw;
        }

        h1 {
            text-align: center;
            margin: auto;
        }

        button {
            cursor: pointer;
        }
        
        body.night-mode {
            background: black;
            color: white;
        }

         body.night-mode input {
            background: #333;
            color: white;
            border: 1px solid #555;
        }

        body.night-mode button {
            background: #333;
            color: white;
            border: 2px solid #555;
        }   

        body.night-mode .night-mode-button {
            color: white;
        }
      
        body.night-mode .reset-button {
            color: white;
        }

        /* Adjust the size of checkboxes for night mode */
        body.night-mode input[type="checkbox"] {
            width: 20px; /* Set the width of the checkbox for night mode */
            height: 20px; /* Set the height of the checkbox for night mode */
        }

        .reset-button {
            cursor: pointer;
            font-size: 14px;
            color: black;
            margin-left: 10px;
        }
        .delete-button {
            cursor: pointer;
            color: gray;
        }

        .task-list {
                list-style-type: none;
                padding: 0;
            }
        
        .night-mode-button {
                cursor: pointer;
                font-size: 14px;
                color: black;
                position: fixed;
                top: 10px;
                right: 10px;
            }
        .task-group {
                width: 100%;
                box-sizing: border-box;
            }
        .task-subgroup {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                max-width: 1400px;
                margin: 0 auto;
                padding: 20px 10px;
            }
        .task-subgroup > div {
                flex: 1;
                margin-right: 10px;
                align-items: baseline;
            }

                /* Add the following CSS to increase the size of checkboxes */
        
        input[type="checkbox"] {
            width: 20px; /* Set the width of the checkbox */
            height: 20px; /* Set the height of the checkbox */
        }
        
        /* Existing styles... */

        .task-list li {
            margin-bottom: 5px;
            display: flex; /* Add this line to make li items flex containers */
        }
        
        li label {
            display: flex; /* Add this line to make label a flex container */
            align-items: center; /* Add this line to vertically center items in the label */
        }
        .list-button-+ {
            display: inline-block;
            margin-left: 10px;
            font-size: 16px;
        }

        form input[type="text"],
        form button {
            display: inline-block;
            vertical-align: middle; /* Add this line to vertically align the input and button */
            margin-bottom: 0; /* Add this line to remove extra bottom margin */
        }


        
        /* Existing styles... */
        
    </style>
</head>
<body>
    <h1>GW2 Task Tracker</h1>

    <!-- Daily Tasks -->
    <div class="task-group">
        <h2>Daily Tasks <span class="reset-button" onclick="resetDailyTasks()">⟳</span></h2>
        
        <!-- Daily Subgroups -->
        <div class="task-subgroup">

            <div>
                <h3>Random Stuff</h3>
                <form onsubmit="return addDailyTask('nodes')">
                    <input type="text" id="new-daily-nodes" placeholder="Add stuff">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Nodes subgroup -->
                <ul id="daily-tasks-nodes" class="task-list"></ul>
            </div>
            
            <div>
                <h3>Events</h3>
                <form onsubmit="return addDailyTask('events')">
                    <input type="text" id="new-daily-events" placeholder="Add things">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Events subgroup -->
                <ul id="daily-tasks-events" class="task-list"></ul>
            </div>

            <div>
                <h3>Fractals</h3>
                <form onsubmit="return addDailyTask('fractals')">
                    <input type="text" id="new-daily-fractals" placeholder="Add fraggles">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Fractals subgroup -->
                <ul id="daily-tasks-fractals" class="task-list"></ul>
            </div>
            
            
            <div>
                <h3>Alt Parking</h3>
                <form onsubmit="return addDailyTask('flax')">
                    <input type="text" id="new-daily-flax" placeholder="Add overtime workers">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Flax subgroup -->
                <ul id="daily-tasks-flax" class="task-list"></ul>
            </div>

            

            <div>
                <h3>Strikes</h3>
                <form onsubmit="return addDailyTask('strikes')">
                    <input type="text" id="new-daily-strikes" placeholder="Add add">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Strikes subgroup -->
                <ul id="daily-tasks-strikes" class="task-list"></ul>
            </div>
        </div>

        <!-- Daily Task List -->
        <ul id="daily-tasks" class="task-list"></ul>
    </div>

    <!-- Weekly Tasks -->
    <div class="task-group">
        <h2>Weekly Tasks <span class="reset-button" onclick="resetWeeklyTasks()">⟳</span></h2>
        
        <!-- Weekly Subgroups -->
        <div class="task-subgroup">
            <div>
                <h3>Also Random Stuff</h3>
                <form onsubmit="return addWeeklyTask('also-random-stuff')">
                    <input type="text" id="new-weekly-black-lion-chest" placeholder="Add hmm">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Black Lion Chest subgroup -->
                <ul id="weekly-tasks-also-random-stuff" class="task-list"></ul>
            </div>

            <div>
                <h3>Convergences</h3>
                <form onsubmit="return addWeeklyTask('convergences')">
                    <input type="text" id="new-weekly-convergences" placeholder="Add twoo">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Convergences subgroup -->
                <ul id="weekly-tasks-convergences" class="task-list"></ul>
            </div>

            <div>
                <h3>Raids</h3>
                <form onsubmit="return addWeeklyTask('raids')">
                    <input type="text" id="new-weekly-raids" placeholder="Add pain">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Raids subgroup -->
                <ul id="weekly-tasks-raids" class="task-list"></ul>
            </div>

            <div>
                <h3>Rifts</h3>
                <form onsubmit="return addWeeklyTask('rifts')">
                    <input type="text" id="new-weekly-rifts" placeholder="Add three">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Rifts subgroup -->
                <ul id="weekly-tasks-rifts" class="task-list"></ul>
            </div>

            <div>
                <h3>Strikes.jpg</h3>
                <form onsubmit="return addWeeklyTask('strikes-jpg')">
                    <input type="text" id="new-weekly-wizards-vault" placeholder="Add dda">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Default tasks for Wizard's Vault subgroup -->
                <ul id="weekly-tasks-strikes-jpg" class="task-list"></ul>
            </div>
        </div>

        <!-- Weekly Task List -->
        <ul id="weekly-tasks" class="task-list"></ul>
    </div>

        <!-- Single Goals -->
    <div class="task-group">
        <h2>Single Goals</h2>
        <div class="task-subgroup">
            <div>
                <form onsubmit="return addSingleGoal()">
                    <input type="text" id="new-single-goal" placeholder="Add that Kudzu III you never did">
                    <button class="list-button-+" type="submit">+</button>
                </form>
                <!-- Custom tasks for Single Goals -->
                <ul id="single-goals" class="task-list"></ul>
            </div>
        </div>
    </div>
    

    <!-- Night Mode Button -->
    <div class="night-mode-button" onclick="toggleNightMode()">
        <span id="night-mode-icon">☀️</span>
    </div>

    <script>
        // JavaScript code to handle task tracking
        const dailyTasks = document.getElementById('daily-tasks');
        const weeklyTasks = document.getElementById('weekly-tasks');
        const newDailyEventInput = document.getElementById('new-daily-events');
        const newDailyFlaxInput = document.getElementById('new-daily-flax');
        const newDailyFractalsInput = document.getElementById('new-daily-fractals');
        const newDailyNodesInput = document.getElementById('new-daily-nodes');
        const newDailyStrikesInput = document.getElementById('new-daily-strikes');
        const newWeeklyAlsoRandomStuffInput = document.getElementById('new-weekly-black-lion-chest');
        const newWeeklyConvergencesInput = document.getElementById('new-weekly-convergences');
        const newWeeklyRaidsInput = document.getElementById('new-weekly-raids');
        const newWeeklyRiftsInput = document.getElementById('new-weekly-rifts');
        const newWeeklyWizardsVaultInput = document.getElementById('new-weekly-wizards-vault');
        const newSingleGoalInput = document.getElementById('new-single-goal');

        // Load night mode state from local storage
        const nightModeState = localStorage.getItem('nightModeState');
        if (nightModeState === 'true') {
            document.body.classList.add('night-mode');
        }

        // Load tasks and checked states from storage (you can use localStorage or a server for this)
        let savedTasks = JSON.parse(localStorage.getItem('tasks'));

        // Initialize default tasks if not present
        savedTasks = savedTasks || {
            daily: {
                events: ["Zombi Doragon", "Naked Man", "Piñata", "Chak Gerent", "Octovine", "Dragonstorm", "Leviathan"],
                flax: ["Revenant", "Guardian", "Warrior", "Ranger", "Engineer", "Mesmer"],
                fractals: ["Deeply D. Keys", "Tier 4", "Recs", "CMs"],
                nodes: ["Guild", "Home", "Charged Quartz", "Wizard's Daily", "Prov. Tokens", "Ecto. Refinement", "Converters", "Drizzlewood M. D."],
                strikes: ["SotO", "IBS", "EoD"]
            },
            weekly: {
                'also-random-stuff': ["Key", "Wizard's Vault"],
                convergences: ["Once", "Twice", "Completed"],
                raids: ["Spirit Vale", "Salvation Pass", "Stronghold of the Faithful", "Bastion of the Penitent", "Hall of Chains", "Mythwright Gambit", "The Key of Ahdashim"],
                rifts: ["1 Map", "2 Maps", "3 Maps", "4 Maps", "5 Maps", "Completed"],
                'strikes-jpg': ["SotO", "EoD", "EoD CM"]
            },
            singleGoals: [],
            dailyChecked: {
                events: [false, false, false, false, false, false, false],
                flax: [false, false, false, false, false, false],
                fractals: [false, false, false, false],
                nodes: [false, false, false, false, false, false, false, false],
                strikes: [false, false, false],
            },
            weeklyChecked: {
                'also-random-stuff': [false, false],
                convergences: [false, false, false],
                raids: [false, false, false, false, false, false, false],
                rifts: [false, false, false, false, false, false],
                'strikes-jpg': [false, false, false]
            }
        };

        function updateTaskList() {
            updateTaskGroup('daily', 'events', newDailyEventInput, 'daily-tasks-events');
            updateTaskGroup('daily', 'flax', newDailyFlaxInput, 'daily-tasks-flax');
            updateTaskGroup('daily', 'fractals', newDailyFractalsInput, 'daily-tasks-fractals');
            updateTaskGroup('daily', 'nodes', newDailyNodesInput, 'daily-tasks-nodes');
            updateTaskGroup('daily', 'strikes', newDailyStrikesInput, 'daily-tasks-strikes');

            updateTaskGroup('weekly', 'also-random-stuff', newWeeklyAlsoRandomStuffInput, 'weekly-tasks-also-random-stuff');
            updateTaskGroup('weekly', 'convergences', newWeeklyConvergencesInput, 'weekly-tasks-convergences');
            updateTaskGroup('weekly', 'raids', newWeeklyRaidsInput, 'weekly-tasks-raids');
            updateTaskGroup('weekly', 'rifts', newWeeklyRiftsInput, 'weekly-tasks-rifts');
            updateTaskGroup('weekly', 'strikes-jpg', newWeeklyWizardsVaultInput, 'weekly-tasks-strikes-jpg');


            updateSingleGoals();
        }

        function updateTaskGroup(category, subgroup, inputElement, taskListId) {
            const taskList = document.getElementById(taskListId);
            const newTaskInput = inputElement;

            taskList.innerHTML = savedTasks[category][subgroup].map((task, index) => {
                              const checked = savedTasks[category + 'Checked'][subgroup][index] ? 'checked' : '';
                return `
                    <li>
                        <input type="checkbox" id="${category}-${subgroup}-${index}" ${checked} onchange="toggleTask('${category}', '${subgroup}', ${index})">
                        <label for="${category}-${subgroup}-${index}">${task}</label>
                        <span class="delete-button" onclick="deleteTask('${category}', '${subgroup}', ${index})">✘</span>
                    </li>`;
            }).join('');
        }

        function updateSingleGoals() {
            const singleGoalsList = document.getElementById('single-goals');
            singleGoalsList.innerHTML = savedTasks.singleGoals.map((goal, index) => `
                <li>
                    <input type="checkbox" id="single-goal-${index}" onchange="toggleSingleGoal(${index})">
                    <label for="single-goal-${index}">${goal}</label>
                    <span class="delete-button" onclick="deleteSingleGoal(${index})">✘</span>
                </li>`
            ).join('');
        }

        function addDailyTask(subgroup) {
            const newTaskInput = getInputElement(subgroup);
            const newTask = newTaskInput.value.trim();

            if (newTask !== '') {
                savedTasks.daily[subgroup].push(newTask);
                savedTasks.dailyChecked[subgroup].push(false);
                updateTaskList();
                saveTasksToStorage();
                newTaskInput.value = '';
            }

            return false; // Prevent the form from submitting
        }

        function addWeeklyTask(subgroup) {
    const newTaskInput = getInputElement(subgroup);
    const newTask = newTaskInput.value.trim();

    if (newTask !== '') {
        // Check if the subgroup exists in the savedTasks.weekly object
        if (!savedTasks.weekly.hasOwnProperty(subgroup)) {
            savedTasks.weekly[subgroup] = [];
            savedTasks.weeklyChecked[subgroup] = [];
        }
        savedTasks.weekly[subgroup].push(newTask);
        savedTasks.weeklyChecked[subgroup].push(false);
        updateTaskList();
        saveTasksToStorage();
        newTaskInput.value = '';
    }

    return false; // Prevent the form from submitting
}

        function addSingleGoal() {
            const newGoalInput = newSingleGoalInput;
            const newGoal = newGoalInput.value.trim();

            if (newGoal !== '') {
                savedTasks.singleGoals.push(newGoal);
                updateTaskList();
                saveTasksToStorage();
                newGoalInput.value = '';
            }

            return false; // Prevent the form from submitting
        }

        function deleteTask(category, subgroup, index) {
            savedTasks[category][subgroup].splice(index, 1);
            savedTasks[category + 'Checked'][subgroup].splice(index, 1);
            updateTaskList();
            saveTasksToStorage();
        }

        function deleteSingleGoal(index) {
            savedTasks.singleGoals.splice(index, 1);
            updateTaskList();
            saveTasksToStorage();
        }

        function toggleTask(category, subgroup, index) {
            savedTasks[category + 'Checked'][subgroup][index] = !savedTasks[category + 'Checked'][subgroup][index];
            saveTasksToStorage();
        }

        function toggleSingleGoal(index) {
            savedTasks.singleGoalsChecked[index] = !savedTasks.singleGoalsChecked[index];
            saveTasksToStorage();
        }

        function resetDailyTasks() {
    // Reset only the checked states for daily tasks
    savedTasks.dailyChecked = {
        events: Array(savedTasks.daily.events.length).fill(false),
        flax: Array(savedTasks.daily.flax.length).fill(false),
        fractals: Array(savedTasks.daily.fractals.length).fill(false),
        nodes: Array(savedTasks.daily.nodes.length).fill(false),
        strikes: Array(savedTasks.daily.strikes.length).fill(false),
    };
    updateTaskList();
    saveTasksToStorage();
}

function resetWeeklyTasks() {
    // Reset only the checked states for weekly tasks
    savedTasks.weeklyChecked = {
        'also-random-stuff': Array(savedTasks.weekly['also-random-stuff'].length).fill(false),
        convergences: Array(savedTasks.weekly.convergences.length).fill(false),
        raids: Array(savedTasks.weekly.raids.length).fill(false),
        rifts: Array(savedTasks.weekly.rifts.length).fill(false),
       'strikes-jpg': Array(savedTasks.weekly['strikes-jpg'].length).fill(false),
    };
    updateTaskList();
    saveTasksToStorage();
}


        function toggleNightMode() {
            document.body.classList.toggle('night-mode');
            const nightModeState = document.body.classList.contains('night-mode');
            localStorage.setItem('nightModeState', nightModeState);
            
            const nightModeIcon = document.getElementById('night-mode-icon');
            nightModeIcon.innerText = nightModeState ? '🌙' : '☀️';
            
}
        // Initial update when the page loads
        updateNightModeIcon(); // Add this line

        function updateNightModeIcon() {
            const nightModeState = localStorage.getItem('nightModeState') === 'true';
            const nightModeIcon = document.getElementById('night-mode-icon');
            nightModeIcon.innerText = nightModeState ? '🌙' : '☀️';

            if (nightModeState) {
                document.body.classList.add('night-mode');
            }
    }

        // Call the function to update the night mode icon when the page loads
        window.addEventListener('load', updateNightModeIcon);
        
        function saveTasksToStorage() {
            localStorage.setItem('tasks', JSON.stringify(savedTasks));
        }

        function getInputElement(subgroup) {
            switch (subgroup) {
                case 'events': return newDailyEventInput;
                case 'flax': return newDailyFlaxInput;
                case 'fractals': return newDailyFractalsInput;
                case 'nodes': return newDailyNodesInput;
                case 'strikes': return newDailyStrikesInput;
                case 'also-random-stuff': return newWeeklyAlsoRandomStuffInput;
                case 'convergences': return newWeeklyConvergencesInput;
                case 'raids': return newWeeklyRaidsInput;
                case 'rifts': return newWeeklyRiftsInput;
                case 'strikes-jpg': return newWeeklyWizardsVaultInput;
                default: return null;
            }
        }

        // Initial update when the page loads
        updateTaskList();
    </script>
    <p>Disclaimer: The code was created through AI (ChatGPT) for personal use. The intention is to allow quick track and management of repetitive tasks.</p>
</body>
</html>
